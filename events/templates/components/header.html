
{% load static %}
<nav class="bg-white shadow-sm">
    <div class="flex items-center justify-between px-6 lg:px-16 py-4">
        <a href="/">
            <div class="flex items-center gap-3">
            <div class="text-orange-500">
                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="#FFA500" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
  <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
</svg>

            </div>
            <div class="flex flex-col">
                <span class="text-2xl lg:text-3xl font-bold text-gray-800 leading-none">EVENTYFLY</span>
                <span class="text-[10px] font-bold text-orange-500 tracking-[0.35em] uppercase mt-1">
                    Event Management
                </span>
            </div>
        </div>
        </a>

        <div class="hidden lg:flex items-center gap-10">
            <ul class="flex items-center gap-8 text-[13px] font-bold text-gray-700">
                <li>
                    <a href="/"
                       class="{% if request.resolver_match.url_name == 'home' or request.resolver_match.url_name == 'event_details' %}
                       text-orange-500 border-b-4 border-orange-500 pb-8
                       {% else %}hover:text-orange-500{% endif %}">
                        HOME
                    </a>
                </li>
                <!-- <li><a href="#" class="hover:text-orange-500">ABOUT US</a></li> -->
                <!-- <li><a href="/event/" class="hover:text-orange-500">EVENTS</a></li> -->
                <!-- <li><a href="#" class="hover:text-orange-500">GALLERY</a></li> -->
                 <li>
                    <a href="/create/"
                       class="{% if request.resolver_match.url_name == 'create' or request.resolver_match.url_name == 'event_details' %}
                       text-orange-500 border-b-4 border-orange-500 pb-8
                       {% else %}hover:text-orange-500{% endif %}">
                        CREATE
                    </a>
                </li>
                
                {% if request.user.is_authenticated %}
                <li>
                    <a href="/dashboard/"
                       class="{% if request.resolver_match.url_name == 'dashboard' %}
                       text-orange-500 border-b-4 border-orange-500 pb-8
                       {% else %}hover:text-orange-500{% endif %}">
                        DASHBOARD
                    </a>
                </li>

                <!-- <li>
                    <a href="{% url 'signout' %}"
                       class="{% if request.resolver_match.url_name == 'dashboard' %}
                       text-orange-500 border-b-4 border-orange-500 pb-8
                       {% else %}hover:text-orange-500{% endif %}">
                        LOGOUT
                    </a>
                </li> -->

                <li>
                     <div class="relative group">
                        {% if request.user.profile_picture %}
                    <img
                        src="{{ request.user.profile_picture.url }}"
                        alt="User Profile"
                        class="w-10 h-10 rounded-full border-2 border-gray-300 hover:border-blue-500 transition-colors cursor-pointer"
                    />
                    {% else %}
                    <img
                        src="{% static 'media/profile_pictures/user.jpg' %}"
                        alt="User Profile"
                        class="w-10 h-10 rounded-full border-2 border-gray-300 hover:border-blue-500 transition-colors cursor-pointer"
                    />
                    {% endif %}
                    

                    <!-- Dropdown Menu -->
                    <div class="hidden group-hover:block absolute right-0 mt-0 w-48 bg-white rounded-lg shadow-lg py-2 z-50 border border-gray-200">
                        <a href="/dashboard/" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors">
                            Dashboard
                        </a>
                        <a href="/users/{{ request.user.username }}/" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors">
                            Profile
                        </a>
                        <a href="/users/{{ request.user.username }}/change-password/" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors">
                            Change Password
                        </a>
                        <hr class="my-2 border-gray-200" />
                        <a href="{% url 'signout' %}" class="block px-4 py-2 text-red-600 hover:bg-red-50 transition-colors">
                            Logout
                        </a>
                    </div>
                </div>
                </li>


                {% else %}
                <div class="flex items-center gap-4">   
                <button class="bg-orange-500 text-white px-4 py-2 rounded">
                    <a href="{% url 'signup' %}"
                       class="{% if request.resolver_match.url_name == 'signup' %}
                       text-gray-800 border-b-4 border-orange-500 pb-8
                       {% else %}hover:text-gray-800{% endif %}">
                        SIGN UP
                    </a>
                </button>   
                <button class="bg-orange-500 text-white px-4 py-2 rounded">
                    <a href="{% url 'signin' %}"
                       class="{% if request.resolver_match.url_name == 'signin' %}
                       text-gray-800 border-b-4 border-orange-500 pb-8
                       {% else %}hover:text-gray-800 {% endif %}">
                        SIGN IN
                    </a>    
                </button>
            </div>
            {% endif %}
            </ul>

            
            
        </div>

        <button id="menu-btn" class="lg:hidden text-gray-700">
            <svg class="w-8 h-8" fill="none" stroke="currentColor" stroke-width="2"
                 viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round"
                      d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
        </button>
    </div>

    <div id="mobile-menu" class="hidden lg:hidden px-6 pb-6">
        <ul class="flex flex-col gap-4 text-[14px] font-bold text-gray-700">
            <li><a href="/" class="hover:text-orange-500">HOME</a></li>
            <!-- <li><a href="#" class="hover:text-orange-500">ABOUT US</a></li> -->
            <!-- <li><a href="/event/" class="hover:text-orange-500">EVENTS</a></li> -->
            <!-- <li><a href="#" class="hover:text-orange-500">GALLERY</a></li> -->
            <li><a href="/create/" class="hover:text-orange-500">CREATE</a></li>
            {% if request.user.is_authenticated %}
            <li><a href="/dashboard/" class="hover:text-orange-500">DASHBOARD</a></li>
            <li><a href="{% url 'signout' %}" class="hover:text-orange-500">LOGOUT</a></li>
            {% else %}
            <li><a href="{% url 'signin' %}" class="hover:text-orange-500">SIGN IN</a></li>
            <li><a href="{% url 'signup' %}" class="hover:text-orange-500">SIGN UP</a></li>
            {% endif %}             
        </ul>
    </div>
</nav>

<script>
    const menuBtn = document.getElementById('menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');

    menuBtn.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
    });
</script>


